/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ 156:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var __webpack_unused_export__;\n\n// import { Repo } from \"@automerge/automerge-repo\"\n// import { BrowserWebSocketClientAdapter } from \"@automerge/automerge-repo-network-websocket\"\n// import { IndexedDBStorageAdapter } from \"@automerge/automerge-repo-storage-indexeddb\"\n__webpack_unused_export__ = ({ value: true });\n__webpack_unused_export__ = getProjectAndImportAndLaunch;\nconst automerge_getter_1 = __webpack_require__(331);\n// // const repo = new Repo({\n// //   storage: new IndexedDBStorageAdapter(\"./db\"),\n// //   network: [new BrowserWebSocketClientAdapter(\"wss://sync.automerge.org\")]\n// // })\nfunction getProjectAndImportAndLaunch(editor, docId) {\n    //   editor.copyToFS('/tmp/preload.zip', zip);\n    // }\n    // try {\n    //   // Avoid user creating project in the persistent root folder.\n    //   editor.copyToFS('/home/web_user/keep', new Uint8Array());\n    // } catch (e) {\n    //   // File exists\n    // }\n    // selectVideoMode();\n    // showTab('editor');\n    // setLoaderEnabled(false);\n    // all we're doing is \n    const branchFiles = (0, automerge_getter_1.getBranchFiles)(docId).then((map) => {\n        // print number of files\n        console.log(\"Got branch files: \", map.size);\n        if (!editor) {\n            throw new Error(\"Editor is not initialized\");\n        }\n        for (const [filename, content] of map.entries()) {\n            editor.copyToFS(filename, content);\n        }\n        const video_driver = 'opengl3';\n        const args = ['--single-window', '--headless', \"--path\", \"/home/web_user/project\"];\n        if (video_driver) {\n            args.push('--rendering-driver', video_driver);\n        }\n        const editor_args = args.concat([\"-e\", \"-q\"]);\n        editor.start({ 'args': editor_args, 'persistentDrops': true }).then(function () {\n            // setStatusMode('hidden');\n            // wait for 10 seconds for it to import the files\n            setTimeout(() => {\n                // start the project\n                editor.start({ 'args': args, 'persistentDrops': true });\n            }, 10000);\n        });\n    });\n}\nwindow.getProjectAndImportAndLaunch = getProjectAndImportAndLaunch;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU2LmpzIiwibWFwcGluZ3MiOiI7O0FBQUEsbURBQW1EO0FBQ25ELDhGQUE4RjtBQUM5Rix3RkFBd0Y7O0FBVXhGLHlEQXlDQztBQWpERCxvREFBbUQ7QUFFbkQsNkJBQTZCO0FBQzdCLHFEQUFxRDtBQUNyRCxnRkFBZ0Y7QUFDaEYsUUFBUTtBQUdSLFNBQWdCLDRCQUE0QixDQUFDLE1BQVcsRUFBRSxLQUFhO0lBQ3JFLDhDQUE4QztJQUM5QyxJQUFJO0lBQ0osUUFBUTtJQUNSLGtFQUFrRTtJQUNsRSw4REFBOEQ7SUFDOUQsZ0JBQWdCO0lBQ2hCLG1CQUFtQjtJQUNuQixJQUFJO0lBQ0oscUJBQXFCO0lBQ3JCLHFCQUFxQjtJQUNyQiwyQkFBMkI7SUFFM0Isc0JBQXNCO0lBRXRCLE1BQU0sV0FBVyxHQUFHLHFDQUFjLEVBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7UUFDckQsd0JBQXdCO1FBQ3hCLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzVDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNaLE1BQU0sSUFBSSxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztRQUMvQyxDQUFDO1FBQ0QsS0FBSyxNQUFNLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxJQUFJLEdBQUcsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDO1lBQ2hELE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3JDLENBQUM7UUFFRCxNQUFNLFlBQVksR0FBRyxTQUFTLENBQUM7UUFDL0IsTUFBTSxJQUFJLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxZQUFZLEVBQUUsUUFBUSxFQUFFLHdCQUF3QixDQUFDLENBQUM7UUFDbkYsSUFBSSxZQUFZLEVBQUUsQ0FBQztZQUNqQixJQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLFlBQVksQ0FBQyxDQUFDO1FBQ2hELENBQUM7UUFDRCxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzdDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLGlCQUFpQixFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQ2xFLDJCQUEyQjtZQUMzQixpREFBaUQ7WUFDakQsVUFBVSxDQUFDLEdBQUcsRUFBRTtnQkFDZCxvQkFBb0I7Z0JBQ3BCLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLGlCQUFpQixFQUFFLElBQUksRUFBRSxDQUFDO1lBQ3pELENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUVaLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBTUQsTUFBTSxDQUFDLDRCQUE0QixHQUFHLDRCQUE0QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhpbmd5Ly4vc3JjL2luZGV4LnRzP2ZmYjQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IHsgUmVwbyB9IGZyb20gXCJAYXV0b21lcmdlL2F1dG9tZXJnZS1yZXBvXCJcbi8vIGltcG9ydCB7IEJyb3dzZXJXZWJTb2NrZXRDbGllbnRBZGFwdGVyIH0gZnJvbSBcIkBhdXRvbWVyZ2UvYXV0b21lcmdlLXJlcG8tbmV0d29yay13ZWJzb2NrZXRcIlxuLy8gaW1wb3J0IHsgSW5kZXhlZERCU3RvcmFnZUFkYXB0ZXIgfSBmcm9tIFwiQGF1dG9tZXJnZS9hdXRvbWVyZ2UtcmVwby1zdG9yYWdlLWluZGV4ZWRkYlwiXG5cbmltcG9ydCB7IGdldEJyYW5jaEZpbGVzIH0gZnJvbSBcIi4vYXV0b21lcmdlX2dldHRlclwiXG5cbi8vIC8vIGNvbnN0IHJlcG8gPSBuZXcgUmVwbyh7XG4vLyAvLyAgIHN0b3JhZ2U6IG5ldyBJbmRleGVkREJTdG9yYWdlQWRhcHRlcihcIi4vZGJcIiksXG4vLyAvLyAgIG5ldHdvcms6IFtuZXcgQnJvd3NlcldlYlNvY2tldENsaWVudEFkYXB0ZXIoXCJ3c3M6Ly9zeW5jLmF1dG9tZXJnZS5vcmdcIildXG4vLyAvLyB9KVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9qZWN0QW5kSW1wb3J0QW5kTGF1bmNoKGVkaXRvcjogYW55LCBkb2NJZDogc3RyaW5nKSB7XG4gIC8vICAgZWRpdG9yLmNvcHlUb0ZTKCcvdG1wL3ByZWxvYWQuemlwJywgemlwKTtcbiAgLy8gfVxuICAvLyB0cnkge1xuICAvLyAgIC8vIEF2b2lkIHVzZXIgY3JlYXRpbmcgcHJvamVjdCBpbiB0aGUgcGVyc2lzdGVudCByb290IGZvbGRlci5cbiAgLy8gICBlZGl0b3IuY29weVRvRlMoJy9ob21lL3dlYl91c2VyL2tlZXAnLCBuZXcgVWludDhBcnJheSgpKTtcbiAgLy8gfSBjYXRjaCAoZSkge1xuICAvLyAgIC8vIEZpbGUgZXhpc3RzXG4gIC8vIH1cbiAgLy8gc2VsZWN0VmlkZW9Nb2RlKCk7XG4gIC8vIHNob3dUYWIoJ2VkaXRvcicpO1xuICAvLyBzZXRMb2FkZXJFbmFibGVkKGZhbHNlKTtcblxuICAvLyBhbGwgd2UncmUgZG9pbmcgaXMgXG5cbiAgY29uc3QgYnJhbmNoRmlsZXMgPSBnZXRCcmFuY2hGaWxlcyhkb2NJZCkudGhlbigobWFwKSA9PiB7XG4gICAgLy8gcHJpbnQgbnVtYmVyIG9mIGZpbGVzXG4gICAgY29uc29sZS5sb2coXCJHb3QgYnJhbmNoIGZpbGVzOiBcIiwgbWFwLnNpemUpO1xuICAgIGlmICghZWRpdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFZGl0b3IgaXMgbm90IGluaXRpYWxpemVkXCIpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtmaWxlbmFtZSwgY29udGVudF0gb2YgbWFwLmVudHJpZXMoKSkge1xuICAgICAgZWRpdG9yLmNvcHlUb0ZTKGZpbGVuYW1lLCBjb250ZW50KTtcbiAgICB9XG5cbiAgICBjb25zdCB2aWRlb19kcml2ZXIgPSAnb3BlbmdsMyc7XG4gICAgY29uc3QgYXJncyA9IFsnLS1zaW5nbGUtd2luZG93JywgJy0taGVhZGxlc3MnLCBcIi0tcGF0aFwiLCBcIi9ob21lL3dlYl91c2VyL3Byb2plY3RcIl07XG4gICAgaWYgKHZpZGVvX2RyaXZlcikge1xuICAgICAgYXJncy5wdXNoKCctLXJlbmRlcmluZy1kcml2ZXInLCB2aWRlb19kcml2ZXIpO1xuICAgIH1cbiAgICBjb25zdCBlZGl0b3JfYXJncyA9IGFyZ3MuY29uY2F0KFtcIi1lXCIsIFwiLXFcIl0pXG4gICAgZWRpdG9yLnN0YXJ0KHsgJ2FyZ3MnOiBlZGl0b3JfYXJncywgJ3BlcnNpc3RlbnREcm9wcyc6IHRydWUgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBzZXRTdGF0dXNNb2RlKCdoaWRkZW4nKTtcbiAgICAgIC8vIHdhaXQgZm9yIDEwIHNlY29uZHMgZm9yIGl0IHRvIGltcG9ydCB0aGUgZmlsZXNcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAvLyBzdGFydCB0aGUgcHJvamVjdFxuICAgICAgICBlZGl0b3Iuc3RhcnQoeyAnYXJncyc6IGFyZ3MsICdwZXJzaXN0ZW50RHJvcHMnOiB0cnVlIH0pXG4gICAgICB9LCAxMDAwMCk7XG5cbiAgICB9KTtcbiAgfSk7XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7IGdldFByb2plY3RBbmRJbXBvcnRBbmRMYXVuY2g6IGFueTsgfVxufVxuXG53aW5kb3cuZ2V0UHJvamVjdEFuZEltcG9ydEFuZExhdW5jaCA9IGdldFByb2plY3RBbmRJbXBvcnRBbmRMYXVuY2g7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///156\n");

/***/ }),

/***/ 331:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getDoc = getDoc;\nexports.getBranchFiles = getBranchFiles;\nconst godot_serializer_1 = __webpack_require__(824);\n// const SERVER_URL = \"104.131.179.247:8080\"\nconst SERVER_URL = \"24.199.97.236:3000\";\nconst DOC_FETCH_URL = `http://${SERVER_URL}/doc/[docId]`;\nfunction getDoc(docId) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            var doc = yield fetch(DOC_FETCH_URL.replace('[docId]', docId));\n            var docJson = yield doc.json();\n        }\n        catch (e) {\n            console.error(\"Error getting doc: \", docId);\n            console.error(e);\n            return null;\n        }\n        return docJson;\n    });\n}\n// returns a map of file name to content\nfunction getBranchFiles(projectId, branchId) {\n    return __awaiter(this, void 0, void 0, function* () {\n        var map = new Map();\n        // get the branch metadata doc from the server\n        // looks like this:\n        //{\"branches\":{\"3oXy4H2P4UPQ4BkB8eCK1Rbe3Rke\":{\"fork_info\":null,\"id\":\"3oXy4H2P4UPQ4BkB8eCK1Rbe3Rke\",\"merge_info\":null,\"name\":\"main\"}},\"main_doc_id\":\"3oXy4H2P4UPQ4BkB8eCK1Rbe3Rke\"}\n        // we need to get the main_doc_id\n        // then we need to get the main doc id from the server\n        // looks like this:\n        /**\n         ```\n         {\n            \"files\": {\n                \"res://LICENSE\": {\n                    \"content\": \"MIT License\\n\\nCopyright (c) 2024 Endless OS Foundation\\n\\nPermission is hereby granted, free of charge, to any person obtaining a copy\\nof this software and associated documentation files (the \\\"Software\\\"), to deal\\nin the Software without restriction, including without limitation the rights\\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\ncopies of the Software, and to permit persons to whom the Software is\\nfurnished to do so, subject to the following conditions:\\n\\nThe above copyright notice and this permission notice shall be included in all\\ncopies or substantial portions of the Software.\\n\\nTHE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\\nSOFTWARE.\\n\"\n                },\n                \"res://README.md\": {\n                    \"content\": \"# Moddable Platformer\\n\\nThis mini moddable game project by [Endless OS\\nFoundation](https://endlessos.org) is intended to help ease the learning curve\\ninto Godot.\\n\\nThis sample project allows learners to engage with game creation concepts,\\napplying various modifications to the game itself, all without reading or\\nwriting any code.\\n\\nThe `doc/MODS.md` file details the mods that have been made available.\\n\\n## Contributing\\n\\nWe encourage contributions that continue to address the intended audience and\\ndesign of of this project. You can communicate with us through the [Endless\\nStudios](https://endlessstudios.com/studio/games/Moddable-Platformer) community\\nplatform and submit pull requests via\\n[GitHub](https://github.com/endlessm/moddable-platformer).\\n\\n### Development environment\\n\\nPlease use [pre-commit](https://pre-commit.com) to check for correct formatting\\nand other issues before creating commits. To do this automatically, you can add\\nit as a git hook:\\n\\n```\\n# If you don't have pre-commit already:\\npip install pre-commit\\n\\n# Setup git hook:\\npre-commit install\\n```\\n\\nNow `pre-commit` will run automatically on `git commit`!\\n\"\n                },\n                \"res://assets/background-layer-1.png\": {\n                    \"url\": \"automerge:3V6nGzHfKmcY8J6z9ZEtVmojCJaH\"\n                },\n                \"res://components/coin/coin.tscn\": {\n                    \"structured_content\": {\n                      ...\n                    }\n                },\n                \"res://components/player/player.tscn\": {\n                    \"structured_content\": {\n                      ...\n                    }\n                },\n            }\n        }\n        ```\n        // for files with a `content` field, just decode the string to a uint8array and copy the content to the map\n        // for files with a `url` field, get the file from the server, then copy the \"content\" field to the map (content field is already a uint8array)\n        // for files with a `structured_content` field, we need to call serializeGodotSceneAsUint8Array\n      \n        // return the map\n         */\n        // get the branch metadata doc\n        var branchMetadata = yield getDoc(projectId);\n        branchId = branchId !== null && branchId !== void 0 ? branchId : branchMetadata.main_doc_id;\n        var mainDoc = yield getDoc(branchId);\n        for (const entry of Object.entries(mainDoc.files)) {\n            const filename = entry[0];\n            const fileData = entry[1];\n            if (fileData.content) {\n                map.set(filename, new TextEncoder().encode(fileData.content));\n            }\n            else if (fileData.url) {\n                var subDocId = fileData.url.split(':')[1];\n                var subDoc = yield getDoc(subDocId);\n                // content is an Array, we need to convert it to a uint8array\n                var content = new Uint8Array(subDoc.content);\n                map.set(filename, content);\n            }\n            else if (fileData.structured_content) {\n                var content = (0, godot_serializer_1.serializeGodotSceneAsUint8Array)(fileData.structured_content);\n                map.set(filename, content);\n            }\n        }\n        return map;\n    });\n}\n// function test() {\n//   //to2i9YGkdhXy3Li4K7FoUSQ9Yzv\n//   getBranchFiles(\"to2i9YGkdhXy3Li4K7FoUSQ9Yzv\").then((map) => {\n//     console.log(map);\n//   });\n// }\n// test();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTtBQUNsRSx3QkFBd0I7QUFDeEIsUUFBUTtBQUNSLElBQUk7QUFFSixVQUFVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhpbmd5Ly4vc3JjL2F1dG9tZXJnZV9nZXR0ZXIudHM/MGMyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IHNlcmlhbGl6ZUdvZG90U2NlbmVBc1VpbnQ4QXJyYXkgfSBmcm9tIFwiLi9nb2RvdF9zZXJpYWxpemVyXCJcblxuLy8gY29uc3QgU0VSVkVSX1VSTCA9IFwiMTA0LjEzMS4xNzkuMjQ3OjgwODBcIlxuY29uc3QgU0VSVkVSX1VSTCA9IFwiMjQuMTk5Ljk3LjIzNjozMDAwXCJcblxuY29uc3QgRE9DX0ZFVENIX1VSTCA9IGBodHRwOi8vJHtTRVJWRVJfVVJMfS9kb2MvW2RvY0lkXWBcblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RG9jKGRvY0lkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBkb2MgPSBhd2FpdCBmZXRjaChET0NfRkVUQ0hfVVJMLnJlcGxhY2UoJ1tkb2NJZF0nLCBkb2NJZCkpO1xuICAgICAgICB2YXIgZG9jSnNvbiA9IGF3YWl0IGRvYy5qc29uKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkb2M6IFwiLCBkb2NJZCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZG9jSnNvbjtcbn1cblxuLy8gcmV0dXJucyBhIG1hcCBvZiBmaWxlIG5hbWUgdG8gY29udGVudFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEJyYW5jaEZpbGVzKHByb2plY3RJZDogc3RyaW5nLCBicmFuY2hJZD86IHN0cmluZyk6IFByb21pc2U8TWFwPHN0cmluZywgVWludDhBcnJheT4+IHtcbiAgICB2YXIgbWFwID0gbmV3IE1hcDxzdHJpbmcsIFVpbnQ4QXJyYXk+KCk7XG4gICAgLy8gZ2V0IHRoZSBicmFuY2ggbWV0YWRhdGEgZG9jIGZyb20gdGhlIHNlcnZlclxuICAgIC8vIGxvb2tzIGxpa2UgdGhpczpcbiAgICAvL3tcImJyYW5jaGVzXCI6e1wiM29YeTRIMlA0VVBRNEJrQjhlQ0sxUmJlM1JrZVwiOntcImZvcmtfaW5mb1wiOm51bGwsXCJpZFwiOlwiM29YeTRIMlA0VVBRNEJrQjhlQ0sxUmJlM1JrZVwiLFwibWVyZ2VfaW5mb1wiOm51bGwsXCJuYW1lXCI6XCJtYWluXCJ9fSxcIm1haW5fZG9jX2lkXCI6XCIzb1h5NEgyUDRVUFE0QmtCOGVDSzFSYmUzUmtlXCJ9XG4gICAgLy8gd2UgbmVlZCB0byBnZXQgdGhlIG1haW5fZG9jX2lkXG4gICAgLy8gdGhlbiB3ZSBuZWVkIHRvIGdldCB0aGUgbWFpbiBkb2MgaWQgZnJvbSB0aGUgc2VydmVyXG4gICAgLy8gbG9va3MgbGlrZSB0aGlzOlxuICAgIC8qKlxuICAgICBgYGBcbiAgICAge1xuICAgICAgICBcImZpbGVzXCI6IHtcbiAgICAgICAgICAgIFwicmVzOi8vTElDRU5TRVwiOiB7XG4gICAgICAgICAgICAgICAgXCJjb250ZW50XCI6IFwiTUlUIExpY2Vuc2VcXG5cXG5Db3B5cmlnaHQgKGMpIDIwMjQgRW5kbGVzcyBPUyBGb3VuZGF0aW9uXFxuXFxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFxcXCJTb2Z0d2FyZVxcXCIpLCB0byBkZWFsXFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxcblxcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbFxcbmNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXFxuXFxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFxcXCJBUyBJU1xcXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXFxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxcblNPRlRXQVJFLlxcblwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJyZXM6Ly9SRUFETUUubWRcIjoge1xuICAgICAgICAgICAgICAgIFwiY29udGVudFwiOiBcIiMgTW9kZGFibGUgUGxhdGZvcm1lclxcblxcblRoaXMgbWluaSBtb2RkYWJsZSBnYW1lIHByb2plY3QgYnkgW0VuZGxlc3MgT1NcXG5Gb3VuZGF0aW9uXShodHRwczovL2VuZGxlc3Nvcy5vcmcpIGlzIGludGVuZGVkIHRvIGhlbHAgZWFzZSB0aGUgbGVhcm5pbmcgY3VydmVcXG5pbnRvIEdvZG90LlxcblxcblRoaXMgc2FtcGxlIHByb2plY3QgYWxsb3dzIGxlYXJuZXJzIHRvIGVuZ2FnZSB3aXRoIGdhbWUgY3JlYXRpb24gY29uY2VwdHMsXFxuYXBwbHlpbmcgdmFyaW91cyBtb2RpZmljYXRpb25zIHRvIHRoZSBnYW1lIGl0c2VsZiwgYWxsIHdpdGhvdXQgcmVhZGluZyBvclxcbndyaXRpbmcgYW55IGNvZGUuXFxuXFxuVGhlIGBkb2MvTU9EUy5tZGAgZmlsZSBkZXRhaWxzIHRoZSBtb2RzIHRoYXQgaGF2ZSBiZWVuIG1hZGUgYXZhaWxhYmxlLlxcblxcbiMjIENvbnRyaWJ1dGluZ1xcblxcbldlIGVuY291cmFnZSBjb250cmlidXRpb25zIHRoYXQgY29udGludWUgdG8gYWRkcmVzcyB0aGUgaW50ZW5kZWQgYXVkaWVuY2UgYW5kXFxuZGVzaWduIG9mIG9mIHRoaXMgcHJvamVjdC4gWW91IGNhbiBjb21tdW5pY2F0ZSB3aXRoIHVzIHRocm91Z2ggdGhlIFtFbmRsZXNzXFxuU3R1ZGlvc10oaHR0cHM6Ly9lbmRsZXNzc3R1ZGlvcy5jb20vc3R1ZGlvL2dhbWVzL01vZGRhYmxlLVBsYXRmb3JtZXIpIGNvbW11bml0eVxcbnBsYXRmb3JtIGFuZCBzdWJtaXQgcHVsbCByZXF1ZXN0cyB2aWFcXG5bR2l0SHViXShodHRwczovL2dpdGh1Yi5jb20vZW5kbGVzc20vbW9kZGFibGUtcGxhdGZvcm1lcikuXFxuXFxuIyMjIERldmVsb3BtZW50IGVudmlyb25tZW50XFxuXFxuUGxlYXNlIHVzZSBbcHJlLWNvbW1pdF0oaHR0cHM6Ly9wcmUtY29tbWl0LmNvbSkgdG8gY2hlY2sgZm9yIGNvcnJlY3QgZm9ybWF0dGluZ1xcbmFuZCBvdGhlciBpc3N1ZXMgYmVmb3JlIGNyZWF0aW5nIGNvbW1pdHMuIFRvIGRvIHRoaXMgYXV0b21hdGljYWxseSwgeW91IGNhbiBhZGRcXG5pdCBhcyBhIGdpdCBob29rOlxcblxcbmBgYFxcbiMgSWYgeW91IGRvbid0IGhhdmUgcHJlLWNvbW1pdCBhbHJlYWR5OlxcbnBpcCBpbnN0YWxsIHByZS1jb21taXRcXG5cXG4jIFNldHVwIGdpdCBob29rOlxcbnByZS1jb21taXQgaW5zdGFsbFxcbmBgYFxcblxcbk5vdyBgcHJlLWNvbW1pdGAgd2lsbCBydW4gYXV0b21hdGljYWxseSBvbiBgZ2l0IGNvbW1pdGAhXFxuXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInJlczovL2Fzc2V0cy9iYWNrZ3JvdW5kLWxheWVyLTEucG5nXCI6IHtcbiAgICAgICAgICAgICAgICBcInVybFwiOiBcImF1dG9tZXJnZTozVjZuR3pIZkttY1k4SjZ6OVpFdFZtb2pDSmFIXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInJlczovL2NvbXBvbmVudHMvY29pbi9jb2luLnRzY25cIjoge1xuICAgICAgICAgICAgICAgIFwic3RydWN0dXJlZF9jb250ZW50XCI6IHtcbiAgICAgICAgICAgICAgICAgIC4uLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInJlczovL2NvbXBvbmVudHMvcGxheWVyL3BsYXllci50c2NuXCI6IHtcbiAgICAgICAgICAgICAgICBcInN0cnVjdHVyZWRfY29udGVudFwiOiB7XG4gICAgICAgICAgICAgICAgICAuLi5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgfVxuICAgIGBgYFxuICAgIC8vIGZvciBmaWxlcyB3aXRoIGEgYGNvbnRlbnRgIGZpZWxkLCBqdXN0IGRlY29kZSB0aGUgc3RyaW5nIHRvIGEgdWludDhhcnJheSBhbmQgY29weSB0aGUgY29udGVudCB0byB0aGUgbWFwXG4gICAgLy8gZm9yIGZpbGVzIHdpdGggYSBgdXJsYCBmaWVsZCwgZ2V0IHRoZSBmaWxlIGZyb20gdGhlIHNlcnZlciwgdGhlbiBjb3B5IHRoZSBcImNvbnRlbnRcIiBmaWVsZCB0byB0aGUgbWFwIChjb250ZW50IGZpZWxkIGlzIGFscmVhZHkgYSB1aW50OGFycmF5KVxuICAgIC8vIGZvciBmaWxlcyB3aXRoIGEgYHN0cnVjdHVyZWRfY29udGVudGAgZmllbGQsIHdlIG5lZWQgdG8gY2FsbCBzZXJpYWxpemVHb2RvdFNjZW5lQXNVaW50OEFycmF5XG4gIFxuICAgIC8vIHJldHVybiB0aGUgbWFwXG4gICAgICovXG5cblxuICAgIC8vIGdldCB0aGUgYnJhbmNoIG1ldGFkYXRhIGRvY1xuXG4gICAgdmFyIGJyYW5jaE1ldGFkYXRhID0gYXdhaXQgZ2V0RG9jKHByb2plY3RJZCk7XG5cbiAgICBicmFuY2hJZCA9IGJyYW5jaElkID8/IGJyYW5jaE1ldGFkYXRhLm1haW5fZG9jX2lkO1xuXG4gICAgdmFyIG1haW5Eb2MgPSBhd2FpdCBnZXREb2MoYnJhbmNoSWQhKTtcblxuXG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBPYmplY3QuZW50cmllcyhtYWluRG9jLmZpbGVzKSkge1xuICAgICAgICBjb25zdCBmaWxlbmFtZTogc3RyaW5nID0gZW50cnlbMF07XG4gICAgICAgIGNvbnN0IGZpbGVEYXRhOiBhbnkgPSBlbnRyeVsxXTtcblxuICAgICAgICBpZiAoZmlsZURhdGEuY29udGVudCkge1xuICAgICAgICAgICAgbWFwLnNldChmaWxlbmFtZSwgbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGZpbGVEYXRhLmNvbnRlbnQpKTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlRGF0YS51cmwpIHtcbiAgICAgICAgICAgIHZhciBzdWJEb2NJZDogc3RyaW5nID0gZmlsZURhdGEudXJsLnNwbGl0KCc6JylbMV07XG4gICAgICAgICAgICB2YXIgc3ViRG9jID0gYXdhaXQgZ2V0RG9jKHN1YkRvY0lkKTtcbiAgICAgICAgICAgIC8vIGNvbnRlbnQgaXMgYW4gQXJyYXksIHdlIG5lZWQgdG8gY29udmVydCBpdCB0byBhIHVpbnQ4YXJyYXlcbiAgICAgICAgICAgIHZhciBjb250ZW50OiBVaW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoc3ViRG9jLmNvbnRlbnQpO1xuICAgICAgICAgICAgbWFwLnNldChmaWxlbmFtZSwgY29udGVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZURhdGEuc3RydWN0dXJlZF9jb250ZW50KSB7XG4gICAgICAgICAgICB2YXIgY29udGVudDogVWludDhBcnJheSA9IHNlcmlhbGl6ZUdvZG90U2NlbmVBc1VpbnQ4QXJyYXkoZmlsZURhdGEuc3RydWN0dXJlZF9jb250ZW50KTtcbiAgICAgICAgICAgIG1hcC5zZXQoZmlsZW5hbWUsIGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXA7XG59XG5cblxuLy8gZnVuY3Rpb24gdGVzdCgpIHtcbi8vICAgLy90bzJpOVlHa2RoWHkzTGk0SzdGb1VTUTlZenZcbi8vICAgZ2V0QnJhbmNoRmlsZXMoXCJ0bzJpOVlHa2RoWHkzTGk0SzdGb1VTUTlZenZcIikudGhlbigobWFwKSA9PiB7XG4vLyAgICAgY29uc29sZS5sb2cobWFwKTtcbi8vICAgfSk7XG4vLyB9XG5cbi8vIHRlc3QoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///331\n");

/***/ }),

/***/ 824:
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.serializeGodotScene = serializeGodotScene;\nexports.serializeGodotSceneAsUint8Array = serializeGodotSceneAsUint8Array;\nfunction serializeGodotScene(structured_content) {\n    let output = '';\n    // Write header\n    if (structured_content.resource_type !== \"PackedScene\") {\n        output += `[gd_resource type=\"${structured_content.resource_type}\"`;\n        if (structured_content.script_class) {\n            output += ` script_class=\"${structured_content.script_class}\"`;\n        }\n    }\n    else {\n        output += '[gd_scene';\n    }\n    if (structured_content.load_steps !== 0) {\n        output += ` load_steps=${structured_content.load_steps}`;\n    }\n    output += ` format=${structured_content.format} uid=\"${structured_content.uid}\"]\\n\\n`;\n    // Write external resources\n    const sortedExtResources = Object.entries(structured_content.ext_resources)\n        .sort(([, a], [, b]) => a.idx - b.idx);\n    for (const [, resource] of sortedExtResources) {\n        output += `[ext_resource type=\"${resource.resource_type}\"`;\n        if (resource.uid) {\n            output += ` uid=\"${resource.uid}\"`;\n        }\n        output += ` path=\"${resource.path}\" id=\"${resource.id}\"]\\n`;\n    }\n    if (sortedExtResources.length > 0) {\n        output += '\\n';\n    }\n    // Write sub-resources\n    const sortedSubResources = Object.entries(structured_content.sub_resources)\n        .sort(([, a], [, b]) => a.idx - b.idx);\n    for (const [, resource] of sortedSubResources) {\n        output += `[sub_resource type=\"${resource.resource_type}\" id=\"${resource.id}\"]\\n`;\n        // Write properties sorted by order\n        const sortedProps = Object.entries(resource.properties)\n            .sort(([, a], [, b]) => a.order - b.order);\n        for (const [key, property] of sortedProps) {\n            output += `${key} = ${property.value}\\n`;\n        }\n        output += '\\n';\n    }\n    // Write main resource if it exists\n    if (structured_content.main_resource) {\n        output += '[resource]\\n';\n        const sortedProps = Object.entries(structured_content.main_resource.properties)\n            .sort(([, a], [, b]) => a.order - b.order);\n        for (const [key, property] of sortedProps) {\n            output += `${key} = ${property.value}\\n`;\n        }\n        return output;\n    }\n    else if (structured_content.resource_type !== \"PackedScene\") {\n        console.error(\"resource with no resource tag!!\");\n    }\n    // Write nodes\n    const nodePathMap = new Map();\n    if (structured_content.nodes && structured_content.root_node_id) {\n        const rootNode = structured_content.nodes[structured_content.root_node_id];\n        if (rootNode) {\n            output += serializeNode(rootNode, structured_content, nodePathMap);\n        }\n    }\n    // Write connections\n    const sortedConnections = Object.entries(structured_content.connections)\n        .sort(([, a], [, b]) => {\n        var _a, _b;\n        const aSort = (_a = nodePathMap.get(a.from_node_id)) !== null && _a !== void 0 ? _a : -1;\n        const bSort = (_b = nodePathMap.get(b.from_node_id)) !== null && _b !== void 0 ? _b : -1;\n        if (aSort === bSort) {\n            return a.signal.localeCompare(b.signal);\n        }\n        return aSort - bSort;\n    });\n    if (sortedConnections.length > 0) {\n        output += '\\n';\n    }\n    for (const [, connection] of sortedConnections) {\n        const fromPath = getNodePath(connection.from_node_id, structured_content);\n        const toPath = getNodePath(connection.to_node_id, structured_content);\n        output += `[connection signal=\"${connection.signal}\" from=\"${fromPath}\" to=\"${toPath}\" method=\"${connection.method}\"`;\n        if (connection.flags !== undefined && connection.flags !== null) {\n            output += ` flags=${connection.flags}`;\n        }\n        if (connection.unbinds !== undefined && connection.unbinds !== null) {\n            output += ` unbinds=${connection.unbinds}`;\n        }\n        if (connection.binds) {\n            output += ` binds=${connection.binds}`;\n        }\n        output += ']\\n';\n    }\n    if (structured_content.editable_instances.size > 0) {\n        output += '\\n';\n    }\n    // Write editable instances\n    for (const path of structured_content.editable_instances) {\n        output += `[editable path=\"${path}\"]\\n`;\n    }\n    return output;\n}\nfunction serializeGodotSceneAsUint8Array(structured_content) {\n    return new TextEncoder().encode(serializeGodotScene(structured_content));\n}\nfunction serializeNode(node, scene, nodePathMap) {\n    let output = '';\n    output += `[node name=\"${node.name}\"`;\n    // name, type, parent, parent_id_path, owner, owner_uid_path, index, unique_id, node_paths, groups, instance_placeholder, instance\n    let type = node.type_or_instance.Type;\n    let instance = node.type_or_instance.Instance;\n    if (type) {\n        output += ` type=\"${type}\"`;\n    }\n    if (node.parent_id) {\n        const parentName = node.parent_id === scene.root_node_id ? '.' : getNodePath(node.parent_id, scene);\n        output += ` parent=\"${parentName}\"`;\n    }\n    if (node.parent_id_path) {\n        output += ` parent_id_path=${node.parent_id_path.join(',')}`;\n    }\n    if (node.owner) {\n        output += ` owner=\"${node.owner}\"`;\n    }\n    if (node.owner_uid_path) {\n        output += ` owner_uid_path=${node.owner_uid_path.join(',')}`;\n    }\n    nodePathMap.set(node.id, nodePathMap.size);\n    if (node.index !== undefined && node.index !== null) {\n        output += ` index=${node.index}`;\n    }\n    output += ` unique_id=${node.id}`;\n    if (node.node_paths) {\n        output += ` node_paths=${node.node_paths}`;\n    }\n    if (node.groups) {\n        output += ` groups=${node.groups}`;\n    }\n    if (node.instance_placeholder) {\n        output += ` instance_placeholder=${node.instance_placeholder}`;\n    }\n    if (instance) {\n        output += ` instance=${instance}`;\n    }\n    output += ']\\n';\n    // Write properties\n    const sortedProps = Object.entries(node.properties)\n        .sort(([, a], [, b]) => a.order - b.order);\n    for (const [key, property] of sortedProps) {\n        output += `${key} = ${property.value}\\n`;\n    }\n    // sort the children by index\n    for (const childId of node.child_node_ids) {\n        output += '\\n';\n        const childNode = scene.nodes[childId];\n        if (childNode) {\n            output += serializeNode(childNode, scene, nodePathMap);\n        }\n    }\n    return output;\n}\nfunction getNodePath(nodeId, scene) {\n    const node = scene.nodes[nodeId];\n    if (!node)\n        return '';\n    if (nodeId === scene.root_node_id) {\n        return '.';\n    }\n    let path = node.name;\n    let currentId = nodeId;\n    while (true) {\n        const currentNode = scene.nodes[currentId];\n        if (!currentNode || !currentNode.parent_id)\n            break;\n        const parentId = currentNode.parent_id;\n        if (parentId === scene.root_node_id) {\n            return path;\n        }\n        const parentNode = scene.nodes[parentId];\n        if (!parentNode)\n            break;\n        path = `${parentNode.name}/${path}`;\n        currentId = parentId;\n    }\n    return path;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDTCxDQUFDO0lBRUQsT0FBTyxNQUFNLENBQUM7QUFDbEIsQ0FBQztBQUVELFNBQVMsV0FBVyxDQUFDLE1BQWMsRUFBRSxLQUFpQjtJQUNsRCxNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2pDLElBQUksQ0FBQyxJQUFJO1FBQUUsT0FBTyxFQUFFLENBQUM7SUFFckIsSUFBSSxNQUFNLEtBQUssS0FBSyxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ2hDLE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDckIsSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFDO0lBRXZCLE9BQU8sSUFBSSxFQUFFLENBQUM7UUFDVixNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxXQUFXLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUztZQUFFLE1BQU07UUFFbEQsTUFBTSxRQUFRLEdBQUcsV0FBVyxDQUFDLFNBQVMsQ0FBQztRQUN2QyxJQUFJLFFBQVEsS0FBSyxLQUFLLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDbEMsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVELE1BQU0sVUFBVSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLFVBQVU7WUFBRSxNQUFNO1FBRXZCLElBQUksR0FBRyxHQUFHLFVBQVUsQ0FBQyxJQUFJLElBQUksSUFBSSxFQUFFLENBQUM7UUFDcEMsU0FBUyxHQUFHLFFBQVEsQ0FBQztJQUN6QixDQUFDO0lBRUQsT0FBTyxJQUFJLENBQUM7QUFDaEIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RoaW5neS8uL3NyYy9nb2RvdF9zZXJpYWxpemVyLnRzPzNhNDciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBPcmRlcmVkUHJvcGVydHkge1xuICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgb3JkZXI6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUeXBlT3JJbnN0YW5jZSB7XG4gICAgVHlwZT86IHN0cmluZztcbiAgICBJbnN0YW5jZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHb2RvdE5vZGUge1xuICAgIGlkOiBudW1iZXI7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHR5cGVfb3JfaW5zdGFuY2U6IFR5cGVPckluc3RhbmNlO1xuICAgIGluc3RhbmNlX3BsYWNlaG9sZGVyPzogc3RyaW5nO1xuICAgIHBhcmVudF9pZD86IG51bWJlcjtcbiAgICBwYXJlbnRfaWRfcGF0aD86IG51bWJlcltdO1xuICAgIG93bmVyPzogc3RyaW5nO1xuICAgIG93bmVyX3VpZF9wYXRoPzogbnVtYmVyW107XG4gICAgaW5kZXg/OiBudW1iZXI7XG4gICAgZ3JvdXBzPzogc3RyaW5nO1xuICAgIG5vZGVfcGF0aHM/OiBzdHJpbmc7XG4gICAgcHJvcGVydGllczogUmVjb3JkPHN0cmluZywgT3JkZXJlZFByb3BlcnR5PjtcbiAgICBjaGlsZF9ub2RlX2lkczogbnVtYmVyW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXh0ZXJuYWxSZXNvdXJjZU5vZGUge1xuICAgIHJlc291cmNlX3R5cGU6IHN0cmluZztcbiAgICB1aWQ/OiBzdHJpbmc7XG4gICAgcGF0aDogc3RyaW5nO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgaWR4OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3ViUmVzb3VyY2VOb2RlIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHJlc291cmNlX3R5cGU6IHN0cmluZztcbiAgICBwcm9wZXJ0aWVzOiBSZWNvcmQ8c3RyaW5nLCBPcmRlcmVkUHJvcGVydHk+O1xuICAgIGlkeDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdvZG90Q29ubmVjdGlvbiB7XG4gICAgc2lnbmFsOiBzdHJpbmc7XG4gICAgZnJvbV9ub2RlX2lkOiBudW1iZXI7XG4gICAgdG9fbm9kZV9pZDogbnVtYmVyO1xuICAgIG1ldGhvZDogc3RyaW5nO1xuICAgIGZsYWdzPzogbnVtYmVyO1xuICAgIHVuYmluZHM/OiBudW1iZXI7XG4gICAgYmluZHM/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR29kb3RTY2VuZSB7XG4gICAgbG9hZF9zdGVwczogbnVtYmVyO1xuICAgIGZvcm1hdDogbnVtYmVyO1xuICAgIHVpZDogc3RyaW5nO1xuICAgIHNjcmlwdF9jbGFzcz86IHN0cmluZztcbiAgICByZXNvdXJjZV90eXBlOiBzdHJpbmc7XG4gICAgcm9vdF9ub2RlX2lkPzogbnVtYmVyO1xuICAgIGV4dF9yZXNvdXJjZXM6IFJlY29yZDxzdHJpbmcsIEV4dGVybmFsUmVzb3VyY2VOb2RlPjtcbiAgICBzdWJfcmVzb3VyY2VzOiBSZWNvcmQ8c3RyaW5nLCBTdWJSZXNvdXJjZU5vZGU+O1xuICAgIG5vZGVzOiBSZWNvcmQ8c3RyaW5nLCBHb2RvdE5vZGU+O1xuICAgIGNvbm5lY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCBHb2RvdENvbm5lY3Rpb24+O1xuICAgIGVkaXRhYmxlX2luc3RhbmNlczogU2V0PHN0cmluZz47XG4gICAgbWFpbl9yZXNvdXJjZT86IFN1YlJlc291cmNlTm9kZTtcbiAgICByZXF1aXJlc19yZXNhdmU6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVHb2RvdFNjZW5lKHN0cnVjdHVyZWRfY29udGVudDogR29kb3RTY2VuZSk6IHN0cmluZyB7XG4gICAgbGV0IG91dHB1dCA9ICcnO1xuXG4gICAgLy8gV3JpdGUgaGVhZGVyXG4gICAgaWYgKHN0cnVjdHVyZWRfY29udGVudC5yZXNvdXJjZV90eXBlICE9PSBcIlBhY2tlZFNjZW5lXCIpIHtcbiAgICAgICAgb3V0cHV0ICs9IGBbZ2RfcmVzb3VyY2UgdHlwZT1cIiR7c3RydWN0dXJlZF9jb250ZW50LnJlc291cmNlX3R5cGV9XCJgO1xuICAgICAgICBpZiAoc3RydWN0dXJlZF9jb250ZW50LnNjcmlwdF9jbGFzcykge1xuICAgICAgICAgICAgb3V0cHV0ICs9IGAgc2NyaXB0X2NsYXNzPVwiJHtzdHJ1Y3R1cmVkX2NvbnRlbnQuc2NyaXB0X2NsYXNzfVwiYDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIG91dHB1dCArPSAnW2dkX3NjZW5lJztcbiAgICB9XG5cbiAgICBpZiAoc3RydWN0dXJlZF9jb250ZW50LmxvYWRfc3RlcHMgIT09IDApIHtcbiAgICAgICAgb3V0cHV0ICs9IGAgbG9hZF9zdGVwcz0ke3N0cnVjdHVyZWRfY29udGVudC5sb2FkX3N0ZXBzfWA7XG4gICAgfVxuICAgIG91dHB1dCArPSBgIGZvcm1hdD0ke3N0cnVjdHVyZWRfY29udGVudC5mb3JtYXR9IHVpZD1cIiR7c3RydWN0dXJlZF9jb250ZW50LnVpZH1cIl1cXG5cXG5gO1xuXG4gICAgLy8gV3JpdGUgZXh0ZXJuYWwgcmVzb3VyY2VzXG4gICAgY29uc3Qgc29ydGVkRXh0UmVzb3VyY2VzID0gT2JqZWN0LmVudHJpZXMoc3RydWN0dXJlZF9jb250ZW50LmV4dF9yZXNvdXJjZXMpXG4gICAgICAgIC5zb3J0KChbLCBhXSwgWywgYl0pID0+IGEuaWR4IC0gYi5pZHgpO1xuXG4gICAgZm9yIChjb25zdCBbLCByZXNvdXJjZV0gb2Ygc29ydGVkRXh0UmVzb3VyY2VzKSB7XG4gICAgICAgIG91dHB1dCArPSBgW2V4dF9yZXNvdXJjZSB0eXBlPVwiJHtyZXNvdXJjZS5yZXNvdXJjZV90eXBlfVwiYDtcbiAgICAgICAgaWYgKHJlc291cmNlLnVpZCkge1xuICAgICAgICAgICAgb3V0cHV0ICs9IGAgdWlkPVwiJHtyZXNvdXJjZS51aWR9XCJgO1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dCArPSBgIHBhdGg9XCIke3Jlc291cmNlLnBhdGh9XCIgaWQ9XCIke3Jlc291cmNlLmlkfVwiXVxcbmA7XG4gICAgfVxuXG4gICAgaWYgKHNvcnRlZEV4dFJlc291cmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG91dHB1dCArPSAnXFxuJztcbiAgICB9XG5cbiAgICAvLyBXcml0ZSBzdWItcmVzb3VyY2VzXG4gICAgY29uc3Qgc29ydGVkU3ViUmVzb3VyY2VzID0gT2JqZWN0LmVudHJpZXMoc3RydWN0dXJlZF9jb250ZW50LnN1Yl9yZXNvdXJjZXMpXG4gICAgICAgIC5zb3J0KChbLCBhXSwgWywgYl0pID0+IGEuaWR4IC0gYi5pZHgpO1xuXG4gICAgZm9yIChjb25zdCBbLCByZXNvdXJjZV0gb2Ygc29ydGVkU3ViUmVzb3VyY2VzKSB7XG4gICAgICAgIG91dHB1dCArPSBgW3N1Yl9yZXNvdXJjZSB0eXBlPVwiJHtyZXNvdXJjZS5yZXNvdXJjZV90eXBlfVwiIGlkPVwiJHtyZXNvdXJjZS5pZH1cIl1cXG5gO1xuXG4gICAgICAgIC8vIFdyaXRlIHByb3BlcnRpZXMgc29ydGVkIGJ5IG9yZGVyXG4gICAgICAgIGNvbnN0IHNvcnRlZFByb3BzID0gT2JqZWN0LmVudHJpZXMocmVzb3VyY2UucHJvcGVydGllcylcbiAgICAgICAgICAgIC5zb3J0KChbLCBhXSwgWywgYl0pID0+IGEub3JkZXIgLSBiLm9yZGVyKTtcblxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHByb3BlcnR5XSBvZiBzb3J0ZWRQcm9wcykge1xuICAgICAgICAgICAgb3V0cHV0ICs9IGAke2tleX0gPSAke3Byb3BlcnR5LnZhbHVlfVxcbmA7XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0ICs9ICdcXG4nO1xuICAgIH1cblxuICAgIC8vIFdyaXRlIG1haW4gcmVzb3VyY2UgaWYgaXQgZXhpc3RzXG4gICAgaWYgKHN0cnVjdHVyZWRfY29udGVudC5tYWluX3Jlc291cmNlKSB7XG4gICAgICAgIG91dHB1dCArPSAnW3Jlc291cmNlXVxcbic7XG4gICAgICAgIGNvbnN0IHNvcnRlZFByb3BzID0gT2JqZWN0LmVudHJpZXMoc3RydWN0dXJlZF9jb250ZW50Lm1haW5fcmVzb3VyY2UucHJvcGVydGllcylcbiAgICAgICAgICAgIC5zb3J0KChbLCBhXSwgWywgYl0pID0+IGEub3JkZXIgLSBiLm9yZGVyKTtcblxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHByb3BlcnR5XSBvZiBzb3J0ZWRQcm9wcykge1xuICAgICAgICAgICAgb3V0cHV0ICs9IGAke2tleX0gPSAke3Byb3BlcnR5LnZhbHVlfVxcbmA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dFxuICAgIH0gZWxzZSBpZiAoc3RydWN0dXJlZF9jb250ZW50LnJlc291cmNlX3R5cGUgIT09IFwiUGFja2VkU2NlbmVcIikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwicmVzb3VyY2Ugd2l0aCBubyByZXNvdXJjZSB0YWchIVwiKTtcbiAgICB9XG5cbiAgICAvLyBXcml0ZSBub2Rlc1xuICAgIGNvbnN0IG5vZGVQYXRoTWFwID0gbmV3IE1hcDxudW1iZXIsIG51bWJlcj4oKTtcblxuICAgIGlmIChzdHJ1Y3R1cmVkX2NvbnRlbnQubm9kZXMgJiYgc3RydWN0dXJlZF9jb250ZW50LnJvb3Rfbm9kZV9pZCkge1xuICAgICAgICBjb25zdCByb290Tm9kZSA9IHN0cnVjdHVyZWRfY29udGVudC5ub2Rlc1tzdHJ1Y3R1cmVkX2NvbnRlbnQucm9vdF9ub2RlX2lkXTtcbiAgICAgICAgaWYgKHJvb3ROb2RlKSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gc2VyaWFsaXplTm9kZShyb290Tm9kZSwgc3RydWN0dXJlZF9jb250ZW50LCBub2RlUGF0aE1hcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXcml0ZSBjb25uZWN0aW9uc1xuICAgIGNvbnN0IHNvcnRlZENvbm5lY3Rpb25zID0gT2JqZWN0LmVudHJpZXMoc3RydWN0dXJlZF9jb250ZW50LmNvbm5lY3Rpb25zKVxuICAgICAgICAuc29ydCgoWywgYV0sIFssIGJdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhU29ydCA9IG5vZGVQYXRoTWFwLmdldChhLmZyb21fbm9kZV9pZCkgPz8gLTE7XG4gICAgICAgICAgICBjb25zdCBiU29ydCA9IG5vZGVQYXRoTWFwLmdldChiLmZyb21fbm9kZV9pZCkgPz8gLTE7XG4gICAgICAgICAgICBpZiAoYVNvcnQgPT09IGJTb3J0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEuc2lnbmFsLmxvY2FsZUNvbXBhcmUoYi5zaWduYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFTb3J0IC0gYlNvcnQ7XG4gICAgICAgIH0pO1xuXG4gICAgaWYgKHNvcnRlZENvbm5lY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgb3V0cHV0ICs9ICdcXG4nO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFssIGNvbm5lY3Rpb25dIG9mIHNvcnRlZENvbm5lY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IGZyb21QYXRoID0gZ2V0Tm9kZVBhdGgoY29ubmVjdGlvbi5mcm9tX25vZGVfaWQsIHN0cnVjdHVyZWRfY29udGVudCk7XG4gICAgICAgIGNvbnN0IHRvUGF0aCA9IGdldE5vZGVQYXRoKGNvbm5lY3Rpb24udG9fbm9kZV9pZCwgc3RydWN0dXJlZF9jb250ZW50KTtcblxuICAgICAgICBvdXRwdXQgKz0gYFtjb25uZWN0aW9uIHNpZ25hbD1cIiR7Y29ubmVjdGlvbi5zaWduYWx9XCIgZnJvbT1cIiR7ZnJvbVBhdGh9XCIgdG89XCIke3RvUGF0aH1cIiBtZXRob2Q9XCIke2Nvbm5lY3Rpb24ubWV0aG9kfVwiYDtcbiAgICAgICAgaWYgKGNvbm5lY3Rpb24uZmxhZ3MgIT09IHVuZGVmaW5lZCAmJiBjb25uZWN0aW9uLmZsYWdzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gYCBmbGFncz0ke2Nvbm5lY3Rpb24uZmxhZ3N9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29ubmVjdGlvbi51bmJpbmRzICE9PSB1bmRlZmluZWQgJiYgY29ubmVjdGlvbi51bmJpbmRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gYCB1bmJpbmRzPSR7Y29ubmVjdGlvbi51bmJpbmRzfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbm5lY3Rpb24uYmluZHMpIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBgIGJpbmRzPSR7Y29ubmVjdGlvbi5iaW5kc31gO1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dCArPSAnXVxcbic7XG4gICAgfVxuICAgIGlmIChzdHJ1Y3R1cmVkX2NvbnRlbnQuZWRpdGFibGVfaW5zdGFuY2VzLnNpemUgPiAwKSB7XG4gICAgICAgIG91dHB1dCArPSAnXFxuJztcbiAgICB9XG4gICAgLy8gV3JpdGUgZWRpdGFibGUgaW5zdGFuY2VzXG4gICAgZm9yIChjb25zdCBwYXRoIG9mIHN0cnVjdHVyZWRfY29udGVudC5lZGl0YWJsZV9pbnN0YW5jZXMpIHtcbiAgICAgICAgb3V0cHV0ICs9IGBbZWRpdGFibGUgcGF0aD1cIiR7cGF0aH1cIl1cXG5gO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUdvZG90U2NlbmVBc1VpbnQ4QXJyYXkoc3RydWN0dXJlZF9jb250ZW50OiBHb2RvdFNjZW5lKTogVWludDhBcnJheSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzZXJpYWxpemVHb2RvdFNjZW5lKHN0cnVjdHVyZWRfY29udGVudCkpO1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVOb2RlKG5vZGU6IEdvZG90Tm9kZSwgc2NlbmU6IEdvZG90U2NlbmUsIG5vZGVQYXRoTWFwOiBNYXA8bnVtYmVyLCBudW1iZXI+KTogc3RyaW5nIHtcbiAgICBsZXQgb3V0cHV0ID0gJyc7XG4gICAgb3V0cHV0ICs9IGBbbm9kZSBuYW1lPVwiJHtub2RlLm5hbWV9XCJgO1xuICAgIC8vIG5hbWUsIHR5cGUsIHBhcmVudCwgcGFyZW50X2lkX3BhdGgsIG93bmVyLCBvd25lcl91aWRfcGF0aCwgaW5kZXgsIHVuaXF1ZV9pZCwgbm9kZV9wYXRocywgZ3JvdXBzLCBpbnN0YW5jZV9wbGFjZWhvbGRlciwgaW5zdGFuY2VcblxuICAgIGxldCB0eXBlID0gbm9kZS50eXBlX29yX2luc3RhbmNlLlR5cGU7XG4gICAgbGV0IGluc3RhbmNlID0gbm9kZS50eXBlX29yX2luc3RhbmNlLkluc3RhbmNlO1xuICAgIGlmICh0eXBlKSB7XG4gICAgICAgIG91dHB1dCArPSBgIHR5cGU9XCIke3R5cGV9XCJgO1xuICAgIH1cblxuICAgIGlmIChub2RlLnBhcmVudF9pZCkge1xuICAgICAgICBjb25zdCBwYXJlbnROYW1lID0gbm9kZS5wYXJlbnRfaWQgPT09IHNjZW5lLnJvb3Rfbm9kZV9pZCA/ICcuJyA6IGdldE5vZGVQYXRoKG5vZGUucGFyZW50X2lkLCBzY2VuZSk7XG4gICAgICAgIG91dHB1dCArPSBgIHBhcmVudD1cIiR7cGFyZW50TmFtZX1cImA7XG4gICAgfVxuXG4gICAgaWYgKG5vZGUucGFyZW50X2lkX3BhdGgpIHtcbiAgICAgICAgb3V0cHV0ICs9IGAgcGFyZW50X2lkX3BhdGg9JHtub2RlLnBhcmVudF9pZF9wYXRoLmpvaW4oJywnKX1gO1xuICAgIH1cbiAgICBpZiAobm9kZS5vd25lcikge1xuICAgICAgICBvdXRwdXQgKz0gYCBvd25lcj1cIiR7bm9kZS5vd25lcn1cImA7XG4gICAgfVxuICAgIGlmIChub2RlLm93bmVyX3VpZF9wYXRoKSB7XG4gICAgICAgIG91dHB1dCArPSBgIG93bmVyX3VpZF9wYXRoPSR7bm9kZS5vd25lcl91aWRfcGF0aC5qb2luKCcsJyl9YDtcbiAgICB9XG5cbiAgICBub2RlUGF0aE1hcC5zZXQobm9kZS5pZCwgbm9kZVBhdGhNYXAuc2l6ZSk7XG5cbiAgICBpZiAobm9kZS5pbmRleCAhPT0gdW5kZWZpbmVkICYmIG5vZGUuaW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgb3V0cHV0ICs9IGAgaW5kZXg9JHtub2RlLmluZGV4fWA7XG4gICAgfVxuXG4gICAgb3V0cHV0ICs9IGAgdW5pcXVlX2lkPSR7bm9kZS5pZH1gO1xuXG4gICAgaWYgKG5vZGUubm9kZV9wYXRocykge1xuICAgICAgICBvdXRwdXQgKz0gYCBub2RlX3BhdGhzPSR7bm9kZS5ub2RlX3BhdGhzfWA7XG4gICAgfVxuXG4gICAgaWYgKG5vZGUuZ3JvdXBzKSB7XG4gICAgICAgIG91dHB1dCArPSBgIGdyb3Vwcz0ke25vZGUuZ3JvdXBzfWA7XG4gICAgfVxuXG4gICAgaWYgKG5vZGUuaW5zdGFuY2VfcGxhY2Vob2xkZXIpIHtcbiAgICAgICAgb3V0cHV0ICs9IGAgaW5zdGFuY2VfcGxhY2Vob2xkZXI9JHtub2RlLmluc3RhbmNlX3BsYWNlaG9sZGVyfWA7XG4gICAgfVxuXG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgIG91dHB1dCArPSBgIGluc3RhbmNlPSR7aW5zdGFuY2V9YDtcbiAgICB9XG5cbiAgICBvdXRwdXQgKz0gJ11cXG4nO1xuXG4gICAgLy8gV3JpdGUgcHJvcGVydGllc1xuICAgIGNvbnN0IHNvcnRlZFByb3BzID0gT2JqZWN0LmVudHJpZXMobm9kZS5wcm9wZXJ0aWVzKVxuICAgICAgICAuc29ydCgoWywgYV0sIFssIGJdKSA9PiBhLm9yZGVyIC0gYi5vcmRlcik7XG5cbiAgICBmb3IgKGNvbnN0IFtrZXksIHByb3BlcnR5XSBvZiBzb3J0ZWRQcm9wcykge1xuICAgICAgICBvdXRwdXQgKz0gYCR7a2V5fSA9ICR7cHJvcGVydHkudmFsdWV9XFxuYDtcbiAgICB9XG5cbiAgICAvLyBzb3J0IHRoZSBjaGlsZHJlbiBieSBpbmRleFxuICAgIGZvciAoY29uc3QgY2hpbGRJZCBvZiBub2RlLmNoaWxkX25vZGVfaWRzKSB7XG4gICAgICAgIG91dHB1dCArPSAnXFxuJztcbiAgICAgICAgY29uc3QgY2hpbGROb2RlID0gc2NlbmUubm9kZXNbY2hpbGRJZF07XG4gICAgICAgIGlmIChjaGlsZE5vZGUpIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBzZXJpYWxpemVOb2RlKGNoaWxkTm9kZSwgc2NlbmUsIG5vZGVQYXRoTWFwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG59XG5cbmZ1bmN0aW9uIGdldE5vZGVQYXRoKG5vZGVJZDogbnVtYmVyLCBzY2VuZTogR29kb3RTY2VuZSk6IHN0cmluZyB7XG4gICAgY29uc3Qgbm9kZSA9IHNjZW5lLm5vZGVzW25vZGVJZF07XG4gICAgaWYgKCFub2RlKSByZXR1cm4gJyc7XG5cbiAgICBpZiAobm9kZUlkID09PSBzY2VuZS5yb290X25vZGVfaWQpIHtcbiAgICAgICAgcmV0dXJuICcuJztcbiAgICB9XG5cbiAgICBsZXQgcGF0aCA9IG5vZGUubmFtZTtcbiAgICBsZXQgY3VycmVudElkID0gbm9kZUlkO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSBzY2VuZS5ub2Rlc1tjdXJyZW50SWRdO1xuICAgICAgICBpZiAoIWN1cnJlbnROb2RlIHx8ICFjdXJyZW50Tm9kZS5wYXJlbnRfaWQpIGJyZWFrO1xuXG4gICAgICAgIGNvbnN0IHBhcmVudElkID0gY3VycmVudE5vZGUucGFyZW50X2lkO1xuICAgICAgICBpZiAocGFyZW50SWQgPT09IHNjZW5lLnJvb3Rfbm9kZV9pZCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXJlbnROb2RlID0gc2NlbmUubm9kZXNbcGFyZW50SWRdO1xuICAgICAgICBpZiAoIXBhcmVudE5vZGUpIGJyZWFrO1xuXG4gICAgICAgIHBhdGggPSBgJHtwYXJlbnROb2RlLm5hbWV9LyR7cGF0aH1gO1xuICAgICAgICBjdXJyZW50SWQgPSBwYXJlbnRJZDtcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///824\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__(156);
/******/ 	
/******/ })()
;